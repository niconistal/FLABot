/** * $Id: FlabotMultiPageEditorContributor.java,v 1.27 2006/04/12 04:27:32 franco Exp $ * $Author: franco $ */package org.isistan.flabot.executionstatemapping.editor;

import org.eclipse.gef.internal.GEFMessages;import org.eclipse.gef.ui.actions.ActionBarContributor;import org.eclipse.gef.ui.actions.DeleteRetargetAction;import org.eclipse.gef.ui.actions.GEFActionConstants;import org.eclipse.gef.ui.actions.RedoRetargetAction;import org.eclipse.gef.ui.actions.UndoRetargetAction;import org.eclipse.gef.ui.actions.ZoomComboContributionItem;import org.eclipse.gef.ui.actions.ZoomInRetargetAction;import org.eclipse.gef.ui.actions.ZoomOutRetargetAction;import org.eclipse.jface.action.IAction;import org.eclipse.jface.action.IToolBarManager;import org.eclipse.jface.action.Separator;import org.eclipse.ui.actions.ActionFactory;import org.eclipse.ui.actions.LabelRetargetAction;import org.eclipse.ui.actions.RetargetAction;import org.isistan.flabot.edit.editor.actions.ExportDiagramAction;import org.isistan.flabot.executionstatemapping.messages.Messages;/**
 * Manages the installation/deinstallation of global actions for multi-page editors.
 * Responsible for the redirection of global actions to the active editor.
 * Multi-page contributor replaces the contributors for the individual editors in the multi-page editor.
 */public class StateEditorContributor extends ActionBarContributor {		/**	 * Create actions managed by this contributor.	 * @see org.eclipse.gef.ui.actions.ActionBarContributor#buildActions()	 */	@Override	protected void buildActions() {		addRetargetAction(new UndoRetargetAction());		addRetargetAction(new RedoRetargetAction());		addRetargetAction(new DeleteRetargetAction());	    addRetargetAction(new ToggleSnapToGeometryRetargetAction());	    addRetargetAction(new ToggleGridRetargetAction());	    	    addRetargetAction(new ZoomInRetargetAction());	    addRetargetAction(new ZoomOutRetargetAction());	    addRetargetAction(new ToggleRulerRetargetAction());	    addRetargetAction(new LabelRetargetAction(ExportDiagramAction.EXPORT_DIAGRAM, Messages.getString("org.isistan.flabot.edit.multipage.FlabotMultiPageEditorContributor.exportDiagramName"), IAction.AS_PUSH_BUTTON)); //$NON-NLS-1$	    	}	/**	 * Add actions to the given toolbar.	 * @see org.eclipse.ui.part.EditorActionBarContributor#contributeToToolBar(org.eclipse.jface.action.IToolBarManager)	 */	@Override	public void contributeToToolBar(IToolBarManager toolBarManager) 	{		toolBarManager.add(new Separator());		//toolBarManager.add(getAction(ActionFactory.DELETE.getId()));		toolBarManager.add(getAction(ActionFactory.UNDO.getId()));		toolBarManager.add(getAction(ActionFactory.REDO.getId()));		toolBarManager.add(new Separator());				toolBarManager.add(getAction(GEFActionConstants.ZOOM_IN));		toolBarManager.add(getAction(GEFActionConstants.ZOOM_OUT));		toolBarManager.add(new ZoomComboContributionItem(getPage()));			toolBarManager.add(new Separator());						toolBarManager.add(getAction(GEFActionConstants.TOGGLE_SNAP_TO_GEOMETRY)); 		toolBarManager.add(getAction(GEFActionConstants.TOGGLE_GRID_VISIBILITY)); 		toolBarManager.add(getAction(GEFActionConstants.TOGGLE_RULER_VISIBILITY)); 		toolBarManager.add(new Separator());		//Export image action		toolBarManager.add(getAction(ExportDiagramAction.EXPORT_DIAGRAM));		toolBarManager.add(new Separator());	}	/*	 * (non-Javadoc)	 * @see org.eclipse.gef.ui.actions.ActionBarContributor#declareGlobalActionKeys()	 */	@Override	protected void declareGlobalActionKeys() {		// currently none		this.addGlobalActionKey(ActionFactory.SELECT_ALL.getId());	}}	class ToggleSnapToGeometryRetargetAction extends RetargetAction	{		public ToggleSnapToGeometryRetargetAction()		{			super(GEFActionConstants.TOGGLE_SNAP_TO_GEOMETRY, GEFMessages.ToggleSnapToGeometry_Label, IAction.AS_CHECK_BOX);			setToolTipText(Messages.getString("org.isistan.flabot.executionmapping.editor.StateEditorContributor.snap")); //$NON-NLS-1$			//setActionDefinitionId(GEFActionConstants.TOGGLE_SNAP_TO_GEOMETRY);		}	}		class ToggleGridRetargetAction extends RetargetAction	{		public ToggleGridRetargetAction()		{			super(GEFActionConstants.TOGGLE_GRID_VISIBILITY, GEFMessages.ToggleGrid_Label, IAction.AS_CHECK_BOX);			setToolTipText(Messages.getString("org.isistan.flabot.executionmapping.editor.StateEditorContributor.grid")); //$NON-NLS-1$			//setActionDefinitionId(GEFActionConstants.TOGGLE_SNAP_TO_GEOMETRY);		}	}		class ToggleRulerRetargetAction extends RetargetAction	{		public ToggleRulerRetargetAction()		{			super(GEFActionConstants.TOGGLE_RULER_VISIBILITY, GEFMessages.ToggleRulerVisibility_Label, IAction.AS_CHECK_BOX);			setToolTipText(Messages.getString("org.isistan.flabot.executionmapping.editor.StateEditorContributor.ruler")); //$NON-NLS-1$			//setActionDefinitionId(GEFActionConstants.TOGGLE_SNAP_TO_GEOMETRY);		}	}